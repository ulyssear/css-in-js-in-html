(()=>{var W={parenthesis:0,bracket:0,brace:0,single_quote:0,double_quote:0,backtick:0},k={"(":"parenthesis-start",")":"parenthesis-end","[":"bracket-start","]":"bracket-end","{":"brace-start","}":"brace-end","'":"single_quote",'"':"double_quote","`":"backtick"},q={original:void 0,events:void 0,selectors:void 0,classes:void 0};function x(r){let l=Object.assign({},W),s=[],o="";for(let e=0;e<r.length;e++){let a=r[e],c=r[e+1];if(a+c==="//"){e+=r.slice(e).indexOf(`
`);continue}if(a+c==="/*"){e+=r.slice(e).indexOf("*/")+1;continue}let m={type:k[a]?.replace("-start","").replace("-end",""),variant:k[a]?k[a].split("-")[1]:void 0};m.variant==="start"&&(l[m.type]+=1),m.variant==="end"&&(l[m.type]-=1);let _=Object.values(l).reduce((i,u)=>i+u,0);if(["	","\r",`
`].includes(a)&&(a=" "),o+=a,_===0&&0<o.length&&(e===r.length-1||a===" ")){let i=Object.assign({},q);i.original=o.trim();let u=Object.assign({},W),n=[],f="";for(let p=0;p<i.original.length;p++){let t=i.original[p],y={type:k[t]?.replace("-start","").replace("-end",""),variant:k[t]?k[t].split("-")[1]:void 0};y.variant==="start"&&(u[y.type]+=1),y.variant==="end"&&(u[y.type]-=1);let O=Object.values(u).reduce((g,h)=>g+h,0);f+=t,O===0&&(t===":"||p===i.original.length-1)&&(n.push(f.trim()),0<n.length&&f.trim().startsWith("[@media(")&&f.trim().endsWith("]:")&&(i.media_query=f.trim().substring(8,f.trim().length-3)),f="")}if(1>n.length)continue;i.classes=function(t){t.startsWith("{")&&t.endsWith("}")&&(t=t.substring(1,t.length-1));let y=Object.assign({},W),O=[],g="";for(let h=0;h<t.length;h++){let d=t[h],b={type:k[d]?.replace("-start","").replace("-end",""),variant:k[d]?k[d].split("-")[1]:void 0};b.variant==="start"&&(y[b.type]+=1),b.variant==="end"&&(y[b.type]-=1);let j=Object.values(y).reduce((v,S)=>v+S,0);g+=d,j===0&&(d===" "||h===t.length-1)&&g.trim()!==""&&(O.push(g.trim()),g="")}return O}(n[n.length-1]),i.events=function(t){if(t&&!(t.startsWith("[")||t.endsWith("]")))return t.endsWith(":")&&(t=t.substring(0,t.length-1)),t.startsWith("{")&&t.endsWith("}")&&(t=t.substring(1,t.length-1)),t.split(",")}(i.media_query?void 0:n[n.length-3]),i.selectors=function p(t){if(!t||!(t.startsWith("[")&&(t.endsWith("]")||t.endsWith("]:")))||t.startsWith("[@media("))return;if(t=t.substring(1,t.length-(1+ +t.endsWith("]:"))),t.includes("@lookout")){let[h,d]=t.split("@lookout");return{tag:"lookout",before:p(h.trim()),after:p(d.trim())}}if([">","+","~"].includes(t[0]))return{tag:t[0],selectors:p(`[${t.substring(1).trim()}]`)};let y=Object.assign({},W),O=[],g="";for(let h=0;h<t.length;h++){let d=t[h],b={type:k[d]?.replace("-start","").replace("-end",""),variant:k[d]?k[d].split("-")[1]:void 0};b.variant==="start"&&(y[b.type]+=1),b.variant==="end"&&(y[b.type]-=1);let j=Object.values(y).reduce((v,S)=>v+S,0);if(g+=d,j===0&&(d===","||h===t.length-1)){let v=g.trim();v.startsWith(",")&&(v=v.substring(1,v.length)),v.endsWith(",")&&(v=v.substring(0,v.length-1)),O.push(v),g=""}}return O}(i.media_query?n[n.length-3]:n[n.length-2]),o="",s.push(i)}}return s}function E(r,l){let s=x(l);for(let o=0;o<s.length;o++){let{selectors:e,classes:a,events:c,media_query:m}=s[o],_=[];for(let u=0;u<a.length;u++){let n=a[u];if(n[0]==="["&&n[1]!=="]"){E(r,n);continue}let f=n.lastIndexOf("-["),p=n.substring(0,f),t=n.substring(f+1,n.length);_.push({name:p,value:t.substring(1,t.length-1)})}A(r,e,_,c,m,l)}}function A(r,l,s,o,e,a){if(e&&(e[0]!=="("&&(e=`(${e})`),!window.matchMedia(e).matches))return;let c=[r];if(l){c=[],typeof l=="object"&&!Array.isArray(l)&&(l=[l]);for(let _=0;_<l.length;_++){let i=l[_];if(typeof i=="object"){let{tag:n,selectors:f}=i;if(n==="lookout"){let p=[],t=[],{before:y,after:O}=i;for(let g=0;g<y.length;g++){let h=y[g],d=document.querySelectorAll(h);for(let b=0;b<d.length;b++){let j=d[b];j.matches(h)&&(c.push(j),p.push(j))}}for(let g=0;g<O.length;g++){let h=O[g],d=document.querySelectorAll(h);for(let b=0;b<d.length;b++){let j=d[b];j.matches(h)&&(c.push(j),t.push(j))}}}if(n===">"&&f&&A(r,[`@current>${f}`],s,o,e),n==="+"&&f){let{selectors:p}=i,{nextElementSibling:t}=r;if(!t||!t.matches(p))continue;A(t,null,s,o,e)}continue}/\@current/.test(i)&&(i=i.replace(/\@current/g,I(r)));let u=i!=="HTML"?r.querySelectorAll(i):[document.documentElement];for(let n=0;n<u.length;n++)c.push(u[n])}}if(o){for(let _=0;_<o.length;_++){let i=o[_];for(let u=0;u<c.length;u++)c[u].addEventListener(i,()=>{for(let f=0;f<s.length;f++){let{name:p,value:t}=s[f];r.style.setProperty(p,t)}},!1)}return}let m=!1;for(let _=0;_<c.length;_++){let i=c[_];if(i)for(let u=0;u<s.length;u++){let{name:n,value:f}=s[u];n&&(i.style.setProperty(n,f),!m&&r.className.includes(a)&&(m=!0))}}m&&(r.className=r.className.replace(a,""))}function L(r,l=void 0){let s=r.querySelectorAll("*:not(head, head *)[class]");for(let e=0;e<s.length;e++){let a=s[e];try{E(a,a.className)}catch(c){console.error(c)}}new MutationObserver(N).observe(r,{attributes:!0,attributeFilter:["class"],childList:!0,subtree:!0});for(let e=0;e<s.length;e++){let a=s[e];a.className.length===0&&a.removeAttribute("class")}r.documentElement&&r.documentElement.hasAttribute("aria-busy")&&r.documentElement.removeAttribute("aria-busy")}function N(r){let l=[];for(let s=0;s<r.length;s++){let{type:o,target:e,attributeName:a}=r[s];if(o==="attributes"&&a==="class"&&l.push(e),o==="childList"){l.push(...e.querySelectorAll("*:not(head, head *)[class]"));for(let c=0;c<l.length;c++){let m=l[c];E(m,m.className)}}}}var w={init:L,fromClassNameToGroups:x};function I(r){let l=1e3,s=[],o,e;do{if(e=e?.parentElement??r,e.id){s.push(e.id);continue}let{parentElement:a,tagName:c}=e;if(a){let{children:m}=a;if(o=Array.from(m).indexOf(e),o>1){s.unshift(`${c}:nth-child(${o+1})`);continue}s.unshift(c);continue}if(s.unshift(c),!a||c==="HTML"||c==="BODY")break}while(l--);return l<1?(console.error("retrieve_current_selector : limit reached"),""):s.join(">")}window.CSS_IN_JS_IN_HTML=w;})();
