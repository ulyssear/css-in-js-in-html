(()=>{var W={parenthesis:0,bracket:0,brace:0,single_quote:0,double_quote:0,backtick:0},k={"(":"parenthesis-start",")":"parenthesis-end","[":"bracket-start","]":"bracket-end","{":"brace-start","}":"brace-end","'":"single_quote",'"':"double_quote","`":"backtick"},x={original:void 0,events:void 0,selectors:void 0,classes:void 0};function E(n){let l=Object.assign({},W),s=[],o="";for(let e=0;e<n.length;e++){let a=n[e],c=n[e+1];if(a+c==="//"){e+=n.slice(e).indexOf(`
`);continue}if(a+c==="/*"){e+=n.slice(e).indexOf("*/")+1;continue}let y={type:k[a]?.replace("-start","").replace("-end",""),variant:k[a]?k[a].split("-")[1]:void 0};y.variant==="start"&&(l[y.type]+=1),y.variant==="end"&&(l[y.type]-=1);let _=Object.values(l).reduce((i,h)=>i+h,0);if(["	","\r",`
`].includes(a)&&(a=" "),o+=a,_===0&&0<o.length&&(e===n.length-1||a===" ")){let i=Object.assign({},x);i.original=o.trim();let h=Object.assign({},W),r=[],u="";for(let f=0;f<i.original.length;f++){let t=i.original[f],b={type:k[t]?.replace("-start","").replace("-end",""),variant:k[t]?k[t].split("-")[1]:void 0};b.variant==="start"&&(h[b.type]+=1),b.variant==="end"&&(h[b.type]-=1);let O=Object.values(h).reduce((g,p)=>g+p,0);u+=t,O===0&&(t===":"||f===i.original.length-1)&&(r.push(u.trim()),0<r.length&&u.trim().startsWith("[@media(")&&u.trim().endsWith("]:")&&(i.media_query=u.trim().substring(8,u.trim().length-3)),u="")}if(1>r.length)continue;i.classes=function(t){t.startsWith("{")&&t.endsWith("}")&&(t=t.substring(1,t.length-1));let b=Object.assign({},W),O=[],g="";for(let p=0;p<t.length;p++){let d=t[p],m={type:k[d]?.replace("-start","").replace("-end",""),variant:k[d]?k[d].split("-")[1]:void 0};m.variant==="start"&&(b[m.type]+=1),m.variant==="end"&&(b[m.type]-=1);let j=Object.values(b).reduce((v,N)=>v+N,0);g+=d,j===0&&(d===" "||p===t.length-1)&&g.trim()!==""&&(O.push(g.trim()),g="")}return O}(r[r.length-1]),i.events=function(t){if(t&&!(t.startsWith("[")||t.endsWith("]")))return t.endsWith(":")&&(t=t.substring(0,t.length-1)),t.startsWith("{")&&t.endsWith("}")&&(t=t.substring(1,t.length-1)),t.split(",")}(i.media_query?void 0:r[r.length-3]),i.selectors=function f(t){if(!t||!(t.startsWith("[")&&(t.endsWith("]")||t.endsWith("]:")))||t.startsWith("[@media("))return;if(t=t.substring(1,t.length-(1+ +t.endsWith("]:"))),t.includes("@lookout")){let[p,d]=t.split("@lookout");return{tag:"lookout",before:f(p.trim()),after:f(d.trim())}}if([">","+","~"].includes(t[0]))return{tag:t[0],selectors:f(`[${t.substring(1).trim()}]`)};let b=Object.assign({},W),O=[],g="";for(let p=0;p<t.length;p++){let d=t[p],m={type:k[d]?.replace("-start","").replace("-end",""),variant:k[d]?k[d].split("-")[1]:void 0};m.variant==="start"&&(b[m.type]+=1),m.variant==="end"&&(b[m.type]-=1);let j=Object.values(b).reduce((v,N)=>v+N,0);if(g+=d,j===0&&(d===","||p===t.length-1)){let v=g.trim();v.startsWith(",")&&(v=v.substring(1,v.length)),v.endsWith(",")&&(v=v.substring(0,v.length-1)),O.push(v),g=""}}return O}(i.media_query?r[r.length-3]:r[r.length-2]),o="",s.push(i)}}return s}function A(n,l){let s=E(l);for(let o=0;o<s.length;o++){let{selectors:e,classes:a,events:c,media_query:y}=s[o],_=[];for(let h=0;h<a.length;h++){let r=a[h];if(r[0]==="["&&r[1]!=="]"){A(n,r);continue}let u=r.lastIndexOf("-["),f=r.substring(0,u),t=r.substring(u+1,r.length);_.push({name:f,value:t.substring(1,t.length-1)})}S(n,e,_,c,y,l)}}function S(n,l,s,o,e,a){if(e&&(e[0]!=="("&&(e=`(${e})`),!window.matchMedia(e).matches))return;let c=[n];if(l){c=[],typeof l=="object"&&!Array.isArray(l)&&(l=[l]);for(let _=0;_<l.length;_++){let i=l[_];if(typeof i=="object"){let{tag:r,selectors:u}=i;if(r==="lookout"){let f=[],t=[],{before:b,after:O}=i;for(let g=0;g<b.length;g++){let p=b[g],d=document.querySelectorAll(p);for(let m=0;m<d.length;m++){let j=d[m];j.matches(p)&&(c.push(j),f.push(j))}}for(let g=0;g<O.length;g++){let p=O[g],d=document.querySelectorAll(p);for(let m=0;m<d.length;m++){let j=d[m];j.matches(p)&&(c.push(j),t.push(j))}}}if(r===">"&&u&&S(n,[`@current>${u}`],s,o,e),r==="+"&&u){let{selectors:f}=i,{nextElementSibling:t}=n;if(!t||!t.matches(f))continue;S(t,null,s,o,e)}continue}/\@current/.test(i)&&(i=i.replace(/\@current/g,w(n)));let h=i!=="HTML"?n.querySelectorAll(i):[document.documentElement];for(let r=0;r<h.length;r++)c.push(h[r])}n.className=n.className.replace("\r","").replace(`
`,"").replace("	","").replace(/\s\s+/g," ").trim(),n.className=n.className.replace(/\[.+\]:\{(?:\s+)?\}/g,"").trim()}if(o){for(let _=0;_<o.length;_++){let i=o[_];for(let h=0;h<c.length;h++)c[h].addEventListener(i,()=>{for(let u=0;u<s.length;u++){let{name:f,value:t}=s[u];n.style.setProperty(f,t)}},!1)}return}let y=!1;for(let _=0;_<c.length;_++){let i=c[_];if(i)for(let h=0;h<s.length;h++){let{name:r,value:u}=s[h];if(!r||(i.style.setProperty(r,u),y))continue;let f=`${r}-[${u}]`;n.className.includes(f)&&(n.className=n.className.replace(f,"").trim())}}y&&(n.className=n.className.replace(a,""))}function q(n,l=void 0){let s=n.querySelectorAll("*:not(head, head *)[class]");for(let e=0;e<s.length;e++){let a=s[e];try{A(a,a.className)}catch(c){console.error(c)}}new MutationObserver(L).observe(n,{attributes:!0,attributeFilter:["class"],childList:!0,subtree:!0});for(let e=0;e<s.length;e++){let a=s[e];a.className.length===0&&a.removeAttribute("class")}n.documentElement&&n.documentElement.hasAttribute("aria-busy")&&n.documentElement.removeAttribute("aria-busy")}function L(n){let l=[];for(let s=0;s<n.length;s++){let{type:o,target:e,attributeName:a}=n[s];if(o==="attributes"&&a==="class"&&l.push(e),o==="childList"){l.push(...e.querySelectorAll("*:not(head, head *)[class]"));for(let c=0;c<l.length;c++){let y=l[c];A(y,y.className)}}}}var $={init:q,fromClassNameToGroups:E};function w(n){let l=1e3,s=[],o,e;do{if(e=e?.parentElement??n,e.id){s.push(e.id);continue}let{parentElement:a,tagName:c}=e;if(a){let{children:y}=a;if(o=Array.from(y).indexOf(e),o>1){s.unshift(`${c}:nth-child(${o+1})`);continue}s.unshift(c);continue}if(s.unshift(c),!a||c==="HTML"||c==="BODY")break}while(l--);return l<1?(console.error("retrieve_current_selector : limit reached"),""):s.join(">")}window.CSS_IN_JS_IN_HTML=$;})();
