(()=>{var W={parenthesis:0,bracket:0,brace:0,single_quote:0,double_quote:0,backtick:0},j={"(":"parenthesis-start",")":"parenthesis-end","[":"bracket-start","]":"bracket-end","{":"brace-start","}":"brace-end","'":"single_quote",'"':"double_quote","`":"backtick"},w={original:void 0,events:void 0,selectors:void 0,classes:void 0};function A(r){let o=Object.assign({},W),y=[],f="";for(let c=0;c<r.length;c++){let e=r[c],i=r[c+1];if(e+i==="//"){c+=r.slice(c).indexOf(`
`);continue}if(e+i==="/*"){c+=r.slice(c).indexOf("*/")+1;continue}let s={type:j[e]?.replace("-start","").replace("-end",""),variant:j[e]?j[e].split("-")[1]:void 0};s.variant==="start"&&(o[s.type]+=1),s.variant==="end"&&(o[s.type]-=1);let b=Object.values(o).reduce((n,a)=>n+a,0);if(["	","\r",`
`].includes(e)&&(e=" "),f+=e,b===0&&0<f.length&&(c===r.length-1||e===" ")){let n=Object.assign({},w);n.original=f.trim();let a=Object.assign({},W),l=[],p="";for(let g=0;g<n.original.length;g++){let t=n.original[g],h={type:j[t]?.replace("-start","").replace("-end",""),variant:j[t]?j[t].split("-")[1]:void 0};h.variant==="start"&&(a[h.type]+=1),h.variant==="end"&&(a[h.type]-=1);let _=Object.values(a).reduce((d,u)=>d+u,0);p+=t,_===0&&(t===":"||g===n.original.length-1)&&(l.push(p.trim()),0<l.length&&p.trim().startsWith("[@media(")&&p.trim().endsWith("]:")&&(n.media_query=p.trim().substring(8,p.trim().length-3)),p="")}if(1>l.length)continue;n.classes=function(t){t.startsWith("{")&&t.endsWith("}")&&(t=t.substring(1,t.length-1));let h=Object.assign({},W),_=[],d="";for(let u=0;u<t.length;u++){let m=t[u],v={type:j[m]?.replace("-start","").replace("-end",""),variant:j[m]?j[m].split("-")[1]:void 0};v.variant==="start"&&(h[v.type]+=1),v.variant==="end"&&(h[v.type]-=1);let S=Object.values(h).reduce((k,q)=>k+q,0);d+=m,S===0&&(m===" "||u===t.length-1)&&d.trim()!==""&&(_.push(d.trim()),d="")}return _}(l[l.length-1]),n.events=function(t){if(t&&!(t.startsWith("[")||t.endsWith("]")))return t.endsWith(":")&&(t=t.substring(0,t.length-1)),t.startsWith("{")&&t.endsWith("}")&&(t=t.substring(1,t.length-1)),t.split(",")}(n.media_query?void 0:l[l.length-3]),n.selectors=function g(t){if(!t||!(t.startsWith("[")&&(t.endsWith("]")||t.endsWith("]:")))||t.startsWith("[@media("))return;if(t=t.substring(1,t.length-(1+ +t.endsWith("]:"))),t.includes("@lookout")){let[u,m]=t.split("@lookout");return{tag:"lookout",before:g(u.trim()),after:g(m.trim())}}if([">","+","~"].includes(t[0]))return{tag:t[0],selectors:g(`[${t.substring(1).trim()}]`)};let h=Object.assign({},W),_=[],d="";for(let u=0;u<t.length;u++){let m=t[u],v={type:j[m]?.replace("-start","").replace("-end",""),variant:j[m]?j[m].split("-")[1]:void 0};v.variant==="start"&&(h[v.type]+=1),v.variant==="end"&&(h[v.type]-=1);let S=Object.values(h).reduce((k,q)=>k+q,0);if(d+=m,S===0&&(m===","||u===t.length-1)){let k=d.trim();k.startsWith(",")&&(k=k.substring(1,k.length)),k.endsWith(",")&&(k=k.substring(0,k.length-1)),_.push(k),d=""}}return _}(n.media_query?l[l.length-3]:l[l.length-2]),f="",y.push(n)}}return y}function O(r,o){let y=A(o);for(let f=0;f<y.length;f++){let{selectors:c,classes:e,events:i,media_query:s}=y[f],b=[];for(let n=0;n<e.length;n++){let a=e[n];if(a[0]==="["){O(r,a);continue}let l=a.lastIndexOf("-["),p=a.substring(0,l),g=a.substring(l+1,a.length);b.push({name:p,value:g.substring(1,g.length-1)})}r.className=r.className.replace(o,"").trim(),I(r,c,b,i,s)}}function I(r,o,y,f,c){if(c&&(c[0]!=="("&&(c=`(${c})`),!window.matchMedia(c).matches))return;let e=[r];if(o){e=[],typeof o=="object"&&!Array.isArray(o)&&(o=[o]);for(let i=0;i<o.length;i++){let s=o[i];if(typeof s=="object"){let{tag:n}=s;if(n==="lookout"){let a=[],l=[],{before:p,after:g}=s;for(let t=0;t<p.length;t++){let h=p[t],_=document.querySelectorAll(h);for(let d=0;d<_.length;d++){let u=_[d];u.matches(h)&&(e.push(u),a.push(u))}}for(let t=0;t<g.length;t++){let h=g[t],_=document.querySelectorAll(h);for(let d=0;d<_.length;d++){let u=_[d];u.matches(h)&&(e.push(u),l.push(u))}}}if(n===">"&&s.selectors){let{selectors:a}=s;for(let l=0;l<r.children.length;l++){let p=r.children[l];I(p,a,y,f,c)}}continue}let b=r.querySelectorAll(s);for(let n=0;n<b.length;n++)e.push(b[n])}}if(f){for(let i=0;i<f.length;i++){let s=f[i];for(let b=0;b<e.length;b++)e[b].addEventListener(s,()=>{for(let a=0;a<y.length;a++){let{name:l,value:p}=y[a];r.style.setProperty(l,p)}},!1)}return}for(let i=0;i<e.length;i++){let s=e[i];if(s)for(let b=0;b<y.length;b++){let{name:n,value:a}=y[b];s.style.setProperty(n,a)}}}function x(r,o=void 0){let y=`init : ${o?`(${o.type})`:""}`,f=r.querySelectorAll("*:not(head, head *)[class]");for(let e=0;e<f.length;e++){let i=f[e];try{O(i,i.className)}catch(s){console.error(s)}}new MutationObserver(L).observe(r,{attributes:!0,attributeFilter:["class"],childList:!0,subtree:!0}),r.documentElement.removeAttribute("aria-busy")}function L(r){for(let o=0;o<r.length;o++){let{type:y,target:f,attributeName:c}=r[o];if(y==="attributes"&&c==="class"&&O(f,f.className),y==="childList"){let e=f.querySelectorAll("*:not(head, head *)[class]");for(let i=0;i<e.length;i++){let s=e[i];O(s,s.className)}}}}var N={init:x,fromClassNameToGroups:A};window.CSS_IN_JS_IN_HTML=N;})();
//# sourceMappingURL=index.min.js.map
